//----------------//
// Headings
//----------------//
@function getTypeVarName($type-level, $key) {
  @return --go-type-#{$type-level}-#{$key};
}
@mixin font-style($type-level, $details, $key, $prop-name: '') {
  @if map-has-key($details, $key) {
    $var-name: getTypeVarName($type-level, $key);
    @if $prop-name != '' {
      #{$prop-name}: var($var-name);
    } @else {
      font-#{$key}: var($var-name);
    }
  }
}

@mixin font-vars() {
  @each $type-level, $details in $typography {
    @each $key, $value in $details {
      $var-name: getTypeVarName($type-level, $key);

      @if $key == 'size' {
        $scale-var-name: getTypeVarName($type-level, 'scale');
        #{$scale-var-name}: map-get($details, 'size');
        #{$var-name}: calc(var(#{$scale-var-name}) * var(--go-type-base-font-size));
      } @else {
        #{$var-name}: #{$value};
      }
    }
  }
}

// Typography css variables
:root {
  --go-type-base-font-size: #{$base-font-size};

  // responseive scale of font-size
  @each $breakpoint, $scale in $font-responsive-scales {
    @include min-query($breakpoint) {
      --go-type-base-font-size: calc(#{$scale} * #{$base-font-size});
    }
  }
  @include font-vars;
}

// Root font family
html,
body {
  font-family: var(--go-body-font-family, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif);
  line-height: normal;
}

@mixin typo($type-level, $details) {
  margin: 0;
  @include font-style($type-level, $details, 'size');
  @include font-style($type-level, $details, 'weight');
  @include font-style($type-level, $details, 'line-height', 'line-height');
  @include font-style($type-level, $details, 'letter-spacing', 'letter-spacing');
}

@each $type-level, $details in $typography {
  @if map-get($details, 'tag') {
    #{$type-level},
    .#{$type-level} {
      @include typo($type-level, $details);
    }
  } @else {
    .text-#{$type-level} {
      @include typo($type-level, $details);
    }
  }
}

.text-start {
  text-align: start;
}
.text-center {
  text-align: center;
}
.text-end {
  text-align: end;
}
.text-justify {
  text-align: justify;
}
.text-lowercase {
  text-transform: lowercase;
}
.text-uppercase {
  text-transform: uppercase;
}
.text-capitalize {
  text-transform: capitalize;
}
