<!-- Used in Docusaurus demo component -->
<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Go UI demo</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" href="/build/go-ui.css" />
    <script type="module" src="/build/go-ui.esm.js"></script>
    <script nomodule src="/build/go-ui.js"></script>
  </head>
  <body>
    <!-- keep this sandbox empty before pushing changes -->

    <!-- #region demo start -->

    <!-- material icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <!-- vue 3 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.2.26"></script>

    <div id="app"></div>

    <script>
      const { createApp } = Vue;
      const Root = {
        data() {
          return {
            navItems: [
              {
                label: 'Home',
                url: '#',
                icon: 'home',
                isCurrent: true,
              },
              {
                label: 'Components',
                url: '#',
                icon: 'view_module',
                description: 'lorem ipsum dolor sit amet consectetur adipisicing elit',
                children: [
                  {
                    label: 'Sub menu 1',
                    url: '#submenu',
                    icon: 'text_fields',
                  },
                  {
                    label: 'Colors',
                    url: '#',
                    icon: 'color_lens',
                  },
                  {
                    label: 'Icons',
                    url: '#',
                    icon: 'image',
                  },
                  {
                    label: 'Buttons',
                    url: '#',
                    icon: 'touch_app',
                  },
                ],
              },
              {
                label: 'Styleguide',
                url: '#',
                icon: 'style',
                children: [
                  {
                    label: 'Typography',
                    url: '#',
                    icon: 'text_fields',
                    children: [
                      {
                        label: 'Headings',
                        url: '#',
                        icon: 'text_fields',
                        children: [
                          {
                            label: 'Heading 1',
                            url: '#',
                          },
                          {
                            label: 'Heading 2',
                            url: '#',
                          },
                        ],
                      },
                      {
                        label: 'Paragraphs',
                        url: '#',
                        icon: 'text_fields',
                      },
                      {
                        label: 'Lists',
                        url: '#',
                        icon: 'text_fields',
                      },
                      {
                        label: 'Code',
                        url: '#',
                        icon: 'text_fields',
                      },
                      {
                        label: 'Tables',
                        url: '#',
                        icon: 'text_fields',
                      },
                    ],
                  },
                  {
                    label: 'Colors',
                    url: '#',
                    icon: 'color_lens',
                    children: [
                      {
                        label: 'Primary',
                        url: '#',
                        icon: 'color_lens',
                      },
                    ],
                  },
                  {
                    label: 'Icons',
                    url: '#',
                    icon: 'image',
                  },
                  {
                    label: 'Buttons',
                    url: '#',
                    icon: 'touch_app',
                  },
                  {
                    label: 'Forms',
                    url: '#',
                    icon: 'text_fields',
                  },
                ],
              },
              {
                label: 'About',
                url: '#',
                icon: 'info',
              },
            ],
          };
        },
        methods: {
          onNav(e) {
            // traverse the navItems array, clear isCurrent property and set it to true for the clicked item
            const newCurrentItem = e.detail.item;
            this.navItems = this.navItems.map((item) => this.traverseNavItems(item, newCurrentItem));
          },
          traverseNavItems(item, newCurrent) {
            let isCurrent = false;
            if (item === newCurrent) {
              console.log('item === newCurrent', item, newCurrent);
              isCurrent = true;
            }
            const children = item?.children?.map((child) => this.traverseNavItems(child, newCurrent));
            return {
              ...item,
              isCurrent,
              children,
            };
          },
        },
        template: `
  <h6>Mega menu rendered from <code>items</code> JSON data</h6>
  <go-main-nav :items.prop="navItems" @navigate="(e) => onNav(e)"></go-main-nav>


  <div class="container">
    <h3>List with heading link</h3>
    <go-nav-list :items.prop="navItems[1].children" :headingItem.prop="navItems[1]"></go-nav-list>
    <h3>List with heading label</h3>
    <go-nav-list :items.prop="navItems[1].children" heading="List heading"></go-nav-list>
    <h3>List with custom heading slot</h3>
    <go-nav-list :items.prop="navItems[1].children">
      <h2 slot="heading">List heading</h2>
    </go-nav-list>
    <h3>No heading</h3>
    <go-nav-list :items.prop="navItems[1].children"></go-nav-list>
    <h3>Full width list</h3>
    <go-nav-list :headingItem.prop="navItems[1]" :items.prop="navItems[1].children" block></go-nav-list>
  </div>

  `,
      };

      const app = createApp(Root);
      app.config.compilerOptions.isCustomElement = (tag) => tag.startsWith('go-');
      app.mount('#app');
    </script>

    <!-- #endregion demo finish -->

    <aside>
      <demo-controls></demo-controls>
    </aside>
  </body>
</html>
