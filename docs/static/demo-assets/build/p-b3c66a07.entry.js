import{r as t,c as a,h as i,H as o,g as r}from"./p-4ea5094b.js";import{l as e}from"./p-0b85b8da.js";import"./p-0d86e690.js";const s=class{constructor(i){t(this,i),this.tabChange=a(this,"tabChange",7),this.vertical=!1,this.manual=!1,this.activeIndex=-1,this.tabs=[],this.panels=[],this.direction={ArrowUp:-1,ArrowLeft:-1,ArrowDown:1,ArrowRight:1}}componentWillLoad(){this.initialiseTabs()}initialiseTabs(){const t=Array.from(this.el.querySelectorAll("go-tab"));0!==t.length&&(this.tabChildren=t.map((t=>{const a=e("tab-"),i=a+"-panel";return t.tabId=a,t.panelId=i,{tabId:t.tabId||a,panelId:t.panelId||i,label:t.label,active:t.active}})),this.panels=t,-1===this.tabChildren.findIndex((t=>t.active))&&(this.tabChildren=this.tabChildren.map(((t,a)=>Object.assign(Object.assign({},t),{active:0===a}))),this.panels[0].active=!0))}componentDidLoad(){var t;(null===(t=this.tabChildren)||void 0===t?void 0:t.length)&&(this.activeIndex=this.tabChildren.findIndex((t=>t.active)),setTimeout((()=>{this.activeTabRect=this.tabs[this.activeIndex].getBoundingClientRect(),this.activateTab(this.tabs[this.activeIndex],!0,!0)}),10))}deactivateTabs(){this.panels.forEach((t=>t.active=!1)),this.tabChildren=this.tabChildren.map((t=>Object.assign(Object.assign({},t),{active:!1})))}activateTab(t,a=!0,i=!1){if("true"===t.getAttribute("aria-selected"))return void(i&&this.tabChange.emit({index:this.activeIndex,tabEl:t,panelEl:this.panels[this.activeIndex]}));this.deactivateTabs();const o=t.getAttribute("id");this.activeTabRect=t.getBoundingClientRect(),this.tabChildren=this.tabChildren.map(((t,a)=>t.tabId===o?(this.panels[a].active=!0,this.activeIndex=a,Object.assign(Object.assign({},t),{active:!0})):t)),a&&t.focus(),this.tabChange.emit({index:this.activeIndex,tabEl:t,panelEl:this.panels[this.activeIndex]})}onTabClick(t){this.activateTab(t.target,!1)}onKeydown(t){switch(t.code){case"End":t.preventDefault(),this.manual?this.focusLastTab():this.activateTab(this.tabs[this.tabs.length-1]);break;case"Home":t.preventDefault(),this.manual?this.focusFirstTab():this.activateTab(this.tabs[0]);break;case"ArrowUp":case"ArrowDown":this.vertical&&(t.preventDefault(),this.switchTabOnArrowPress(t));break;case"ArrowLeft":case"ArrowRight":t.preventDefault(),this.switchTabOnArrowPress(t)}}switchTabOnArrowPress(t){var a=t.code;const i=this.tabs.findIndex((a=>t.target.isSameNode(a)));if(this.direction[a]&&-1!==i){const t=i+this.direction[a];if(this.tabs[t])return this.manual?void this.tabs[t].focus():void this.activateTab(this.tabs[t]);if("ArrowLeft"===a||"ArrowUp"===a)return this.manual?void this.focusLastTab():void this.activateTab(this.tabs[this.tabs.length-1]);if("ArrowRight"===a||"ArrowDown"==a)return this.manual?void this.focusFirstTab():void this.activateTab(this.tabs[0])}}focusFirstTab(){this.tabs[0].focus()}focusLastTab(){this.tabs[this.tabs.length-1].focus()}render(){const{tabChildren:t,tabGroupLabel:a,vertical:r,activeTabRect:e,tablistEl:s}=this,c=(null==s?void 0:s.scrollLeft)||0,n=(null==s?void 0:s.scrollTop)||0,l=null==s?void 0:s.getBoundingClientRect();return i(o,{class:{tabs:!0,vertical:r},style:r?{"--tabs-active-indicator-top":`${(null==e?void 0:e.top)+(n-(null==l?void 0:l.top)||0)||0}px`,"--tabs-active-indicator-height":`${(null==e?void 0:e.height)||0}px`}:{"--tabs-active-indicator-left":`${(null==e?void 0:e.left)+(c-(null==l?void 0:l.left)||0)||0}px`,"--tabs-active-indicator-width":`${(null==e?void 0:e.width)||0}px`}},i("div",{role:"tablist",ref:t=>this.tablistEl=t,"aria-label":a,"aria-orientation":r?"vertical":void 0},t?t.map(((t,a)=>i("button",{type:"button",role:"tab","aria-selected":t.active?"true":"false",tabindex:t.active?void 0:"-1","aria-controls":t.panelId,id:t.tabId,onClick:t=>this.onTabClick(t),onKeyDown:t=>this.onKeydown(t),key:a,class:{active:t.active},ref:t=>this.tabs.push(t)},t.label))):null,i("div",{class:"tabs-active-indicator-track","aria-hidden":"true"},i("div",{class:"tabs-active-indicator"}))),i("slot",null))}get el(){return r(this)}};s.style="go-tabs{--tab-padding:0.75rem 1.25rem;--tab-bg-color:transparent;--tab-hover-bg-color:var(--go-color-neutral-200);--tab-text-color:var(--go-color-neutral-700);--tab-focus-color:var(--go-color-primary-600);--tab-active-color:var(--go-color-primary-800);--tab-active-bg-color:transparent;--tab-border-width:0.2em;--tab-active-indicator-color:var(--tab-active-color);--tabs-active-indicator-width:0;--tabs-active-indicator-height:0.2em;--tabs-active-indicator-color:var(--tab-active-color);--tabs-vertical-tablist-basis:25%;--tabs-tablist-gap:1rem;display:flex;flex-direction:column;gap:var(--tabs-tablist-gap)}go-tabs [role=tablist]{overflow:auto;display:flex;flex-wrap:nowrap;width:100%;position:relative}go-tabs [role=tab]{padding:var(--tab-padding);border:var(--tab-border-width) solid transparent;white-space:nowrap;background:var(--tab-bg-color);color:var(--tab-text-color);font-weight:500;transition:background-color var(--go-duration-normal) var(--go-timing-function), color var(--go-duration-normal) var(--go-timing-function)}@media (prefers-reduced-motion: reduce){go-tabs [role=tab]{transition-duration:0s}}go-tabs [role=tab]:hover,go-tabs [role=tab]:focus{outline:0;background:var(--tab-hover-bg-color)}go-tabs [role=tab]:focus-visible{border-top-color:var(--tab-focus-color);text-decoration:underline;text-underline-offset:4px;text-underline-offset:0.25rem}go-tabs [role=tab]:not(.active){cursor:pointer}go-tabs [role=tab][aria-selected=true]{background:var(--tab-active-bg-color);color:var(--tab-active-color);text-decoration:none;text-shadow:0 0 1px currentColor;text-shadow:0 0 0.0625rem currentColor}go-tabs .tabs-active-indicator-track{position:absolute;width:100%;bottom:0;left:0;right:0}go-tabs .tabs-active-indicator-track .tabs-active-indicator{transition:transform var(--go-duration-normal) var(--go-timing-function), width var(--go-duration-normal) var(--go-timing-function), height var(--go-duration-normal) var(--go-timing-function);transform:translateX(var(--tabs-active-indicator-left));width:var(--tabs-active-indicator-width);height:var(--tabs-active-indicator-height);border-radius:var(--radius-round);background:var(--tabs-active-indicator-color)}@media (prefers-reduced-motion: reduce){go-tabs .tabs-active-indicator-track .tabs-active-indicator{transition-duration:0s}}go-tabs.vertical{flex-direction:row}go-tabs.vertical [role=tablist]{flex-direction:column;flex:0 0 var(--tabs-vertical-tablist-basis, 25%)}go-tabs.vertical [role=tablist] .tabs-active-indicator-track{width:auto;top:0;left:auto}go-tabs.vertical [role=tablist] .tabs-active-indicator-track .tabs-active-indicator{--tabs-active-indicator-width:4px;--tabs-active-indicator-width:0.25rem;transform:translateY(var(--tabs-active-indicator-top))}go-tabs.vertical [role=tab]{text-align:left;white-space:normal}go-tabs.vertical [role=tab]:focus-visible{border-top-color:transparent;border-left-color:var(--tab-focus-color)}";export{s as go_tabs}