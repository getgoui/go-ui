import{r as i,c as o,h as t,H as r,g as e}from"./p-4ea5094b.js";import{h as a}from"./p-8815d042.js";import{l as n}from"./p-0b85b8da.js";import"./p-0d86e690.js";const s=class{constructor(t){i(this,t),this.opened=o(this,"opened",7),this.opening=o(this,"opening",7),this.closed=o(this,"closed",7),this.closing=o(this,"closing",7),this.heading=null,this.headingTag="h3",this.autoHeight=!0,this.active=!1,this.hasHeadingSlot=!0,this.hasArrowSlot=!0}componentWillLoad(){this.hasHeadingSlot=a(this.el,"heading"),this.hasArrowSlot=a(this.el,"arrow"),this.panelId=n("go-accordion-item-panel-"),this.headerId=n("go-accordion-item-header-"),this.parentGroup=this.el.closest("go-accordion")}componentDidLoad(){this.autoHeight&&this.panelEl.style.setProperty("--body-max-height",this.panelEl.scrollHeight+2+"px"),this.onTransitionEnd(),this.panelEl.addEventListener("transitionstart",(()=>{this.onTransitionStart()})),this.panelEl.addEventListener("transitionend",(()=>{this.onTransitionEnd()}))}handleNavigation(i){"ArrowDown"===i&&this.el.nextElementSibling&&this.el.nextElementSibling.focusOnControl(),"ArrowUp"===i&&this.el.previousElementSibling&&this.el.previousElementSibling.focusOnControl(),"Home"===i&&this.parentGroup.children[0].focusOnControl(),"End"===i&&this.parentGroup.children[this.parentGroup.children.length-1].focusOnControl()}onTransitionEnd(){this.active?(this.panelEl.style.overflow="auto",this.opened.emit()):(this.panelEl.style.overflow="hidden",this.panelEl.style.visibility="hidden",this.closed.emit())}onTransitionStart(){this.active?(this.panelEl.style.visibility="visible",this.opening.emit()):this.closing.emit()}async toggle(){this.active?this.close():this.open()}async close(){this.active=!1}async open(){this.active=!0}async focusOnControl(){this.el.querySelector(".heading-control").focus()}render(){const{active:i,autoHeight:o,headingTag:e,panelId:a,headerId:n}=this;return t(r,{class:{active:i,autoHeight:o}},t(e,{class:"heading"},t("button",{id:n,class:"heading-control",role:"button",onClick:()=>this.toggle(),onKeyDown:i=>this.handleNavigation(i.key),"aria-expanded":i?"true":"false","aria-controls":a},this.hasHeadingSlot?t("slot",{name:"heading"}):this.heading,t("span",{class:"arrow"},this.hasArrowSlot?t("slot",{name:"arrow"}):t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},t("path",{d:"m6 9 6 6 6-6"}))))),t("div",{class:"panel-wrapper",role:"region",id:a,"aria-labelledby":n,ref:i=>this.panelEl=i},t("div",{class:"panel"},t("slot",null))))}get el(){return e(this)}};s.style="go-accordion-item{display:block}@media (prefers-reduced-motion: reduce){go-accordion-item{--go-duration-normal:0.01s}}go-accordion-item .heading .heading-control{background:var(--heading-bg-color);color:var(--heading-text-color);font-size:var(--heading-font-size, 1rem);border-radius:var(--heading-radius);display:flex;align-items:center;justify-content:space-between;width:100%;border:none;padding:var(--heading-padding-y) var(--heading-padding-x);cursor:pointer;transition:border-radius var(--go-duration-normal) var(--go-timing-function)}@media (prefers-reduced-motion: reduce){go-accordion-item .heading .heading-control{transition-duration:0s}}go-accordion-item .heading .heading-control:hover,go-accordion-item .heading .heading-control:focus-visible{--heading-bg-color:var(--heading-bg-color-hover);--heading-text-color:var(--heading-fg-color-hover)}go-accordion-item .heading .heading-control:focus-visible{outline:var(--go-focus-outline-width, 2px) solid var(--go-focus-outline-color, #000);outline-offset:var(--go-focus-outline-offset)}go-accordion-item .heading .arrow{display:block;color:currentColor;transition:transform var(--go-duration-normal) var(--go-timing-function);width:1.5em;height:1.5em}@media (prefers-reduced-motion: reduce){go-accordion-item .heading .arrow{transition-duration:0s}}go-accordion-item .panel-wrapper{overflow:hidden;max-height:0;transition:max-height var(--go-duration-normal) var(--go-timing-function);background:var(--panel-bg-color)}go-accordion-item .panel-wrapper .panel{border-top-left-radius:0;border-top-right-radius:0;overflow:hidden;padding:var(--panel-padding-y) var(--panel-padding-x)}go-accordion-item.autoHeight .panel-wrapper{overflow:hidden}go-accordion-item.active>.heading{border-bottom-left-radius:0;border-bottom-right-radius:0;transition:border-radius 0s}go-accordion-item.active>.heading .arrow{transform:rotate(180deg)}go-accordion-item.active>.panel-wrapper{max-height:var(--body-max-height)}";export{s as go_accordion_item}