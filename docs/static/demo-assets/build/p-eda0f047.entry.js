import{r as n,c as a,h as e,H as o,g as i}from"./p-4ea5094b.js";import{o as t}from"./p-6b960e71.js";import{i as r}from"./p-8815d042.js";import{p as v}from"./p-7068a93c.js";import"./p-7ba27fda.js";import"./p-0d86e690.js";const s=class{constructor(e){n(this,e),this.navEvent=a(this,"navigate",7),this.navItems=null,this.inheritedAttrs={}}async componentWillLoad(){this.inheritedAttrs=r(this.el,["class","style","items","active","position"]),this.navItems=v(this.items),t(this.el,(()=>{this.closeAllSubMenus()})),this.el.addEventListener("keydown",(n=>{"Escape"===n.code&&this.closeAllSubMenus()}))}async init(n){this.navItems=v(n)}async watchItems(n){this.navItems=v(n)}closeAllSubMenus(){this.el.querySelectorAll(".nav-menu-root > li.active").forEach((n=>{this.closeSubMenu(n)}))}toggleSubMenu(n){const a=n.currentTarget,e=a.closest(".nav-item.has-children");e.classList.contains("active")?this.closeSubMenu(e):(this.closeAllSubMenus(),e.classList.add("active"),a.setAttribute("aria-expanded","true"))}closeSubMenu(n){const a=n.querySelector(".nav-item-inner");n.classList.remove("active"),a.setAttribute("aria-expanded","false")}renderNavLink(n,a=!1){let o=n.isCurrent?"span":"a",i=(null==n?void 0:n.url)?Object.assign({href:n.url,onClick:a=>{this.navEvent.emit({event:a,item:n})}},n.linkAttrs):{};return i.class=`${i.class?i.class:""} nav-item-link${n.isCurrent?" current":""}`,e(o,Object.assign({},i),n.icon&&e("go-icon",{name:n.icon}),e("span",null,n.label),a?e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},e("path",{d:"M5 12h14M12 5l7 7-7 7"})):null)}renderSubMenu(n){var a;return(null===(a=null==n?void 0:n.children)||void 0===a?void 0:a.length)>0?e("div",{class:"submenu"},e("div",{class:"submenu-header"},e("go-nav-link",{block:!0,item:n})),e("ul",null,n.children.map((n=>e("li",null,e("go-nav-link",{block:!0,item:n})))))):e("div",{class:"nav-item"},e("go-nav-link",{block:!0,item:n}))}renderRootNavItem(n){var a;let o="a";const i=(null===(a=null==n?void 0:n.children)||void 0===a?void 0:a.length)>0;n.isCurrent&&(o="span"),i&&(o="button");let t=null;return"a"===o&&(t=Object.assign({href:n.url,onClick:a=>{console.log("clicked"),this.navEvent.emit({event:a,item:n})}},n.linkAttrs)),"button"===o&&(t={type:"button","aria-expanded":"false",onClick:n=>this.toggleSubMenu(n)}),e("li",{class:{"nav-item":!0,"has-children":i,current:n.isCurrent}},e(o,Object.assign({class:"nav-item-inner"},t),e("span",{class:"nav-item-label"},n.icon&&e("go-icon",{name:n.icon}),e("span",null,n.label)),i?e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},e("path",{d:"m6 9 6 6 6-6"})):null),n.children?e("div",{class:"submenu-container"},e("div",{class:"submenu-header"},e("go-nav-link",{block:!0,item:n,showArrow:!0}),(null==n?void 0:n.description)?e("p",{class:"description"},n.description):null),e("div",{class:"submenu-list"},n.children.map((n=>this.renderSubMenu(n))))):null)}renderRootNav(n){return e("div",{class:{"nav-menu":!0}},e("div",{class:"container"},e("ul",{class:"nav-menu-root"},n.map((n=>this.renderRootNavItem(n))))))}render(){let{navItems:n,inheritedAttrs:a}=this;return e(o,Object.assign({},a),e("nav",{"aria-label":"Main navigation"},n?this.renderRootNav(n):e("slot",null)))}get el(){return i(this)}static get watchers(){return{items:["watchItems"]}}};s.style="go-main-nav{--nav-border-top:1px solid var(--go-color-neutral-200);--nav-border-top:0.0625rem solid var(--go-color-neutral-200);--nav-border-bottom:1px solid var(--go-color-neutral-200);--nav-border-bottom:0.0625rem solid var(--go-color-neutral-200);--nav-bg-color:var(--go-color-bg);--nav-shadow:var(--shadow-2);--nav-item-text-color:var(--go-color-darkest);--nav-item-bg-color:var(--nav-bg-color);--nav-item-hover-bg-color:var(--go-color-lightest);--nav-item-active-bg-color:var(--go-color-bg);--nav-item-current-bg-color:var(--nav-item-bg-color);--nav-item-padding:var(--go-size--1) var(--go-size-0);--nav-item-icon-gap:0.5rem;--nav-item-current-bar-width:4px;--nav-item-current-bar-width:0.25rem;--nav-item-current-bar-color:var(--go-color-secondary-700);--submenu-bg-color:var(--nav-item-active-bg-color);--submenu-padding-y:var(--go-size-0);--submenu-padding-x:var(--go-size-1);--submenu-max-height:10rem;--submenu-link-padding:8px;--submenu-link-padding:0.5rem;--submenu-link-hover-bg-color:var(--go-color-neutral-200);display:block;box-shadow:var(--nav-shadow);border-top:var(--nav-border-top)}go-main-nav ul{list-style:none}go-main-nav>nav{background:var(--nav-bg-color)}go-main-nav>nav .nav-menu-root{margin:0;padding:0;display:flex;flex-direction:row;align-items:stretch;flex-wrap:nowrap;position:relative}go-main-nav>nav .nav-item .nav-item-inner{background:none;border:none;text-decoration:none;cursor:pointer;display:flex;align-items:center;justify-content:center;width:100%;padding:var(--nav-item-padding);color:var(--nav-item-text-color);text-decoration:none;background:var(--nav-item-bg-color);border-bottom:var(--nav-item-current-bar-width) solid transparent}go-main-nav>nav .nav-item .nav-item-inner:hover,go-main-nav>nav .nav-item .nav-item-inner:focus{background:var(--nav-item-hover-bg-color)}go-main-nav>nav .nav-item .nav-item-inner svg{transition:transform var(--go-duration-normal) var(--go-timing-function);margin-left:0.5rem;width:1.25em;height:1.25em;transform:translateX(0)}@media (prefers-reduced-motion: reduce){go-main-nav>nav .nav-item .nav-item-inner svg{transition-duration:0s}}go-main-nav>nav .nav-item .nav-item-inner .nav-item-label{display:flex;align-items:center;gap:var(--nav-item-icon-gap)}go-main-nav>nav .nav-item.current .nav-item-inner{--nav-item-bg-color:var(--nav-item-current-bg-color);border-bottom-color:var(--nav-item-current-bar-color)}go-main-nav>nav .nav-item .parent-link svg{width:40px;width:2.5rem}go-main-nav>nav .nav-item .submenu-container{transition:opacity var(--go-duration-normal) var(--go-timing-function), visibility var(--go-duration-normal) var(--go-timing-function);visibility:hidden;opacity:0;position:absolute;top:100%;left:0;right:0;z-index:1;box-shadow:var(--nav-shadow);padding:var(--submenu-padding-y) var(--submenu-padding-x);background:var(--submenu-bg-color)}@media (prefers-reduced-motion: reduce){go-main-nav>nav .nav-item .submenu-container{transition-duration:0s}}go-main-nav>nav .nav-item .submenu-container>.submenu-header{border-bottom:1px solid var(--go-color-neutral-200);border-bottom:0.0625rem solid var(--go-color-neutral-200);padding:0.5rem 0;margin-bottom:var(--submenu-padding-y)}go-main-nav>nav .nav-item .submenu-container>.submenu-header svg{width:1.5em;height:1.5em}go-main-nav>nav .nav-item .submenu-container>.submenu-header h5{display:flex;align-items:center;gap:0.5em}go-main-nav>nav .nav-item .submenu-container>.submenu-header .description{color:var(--go-color-neutral-700)}go-main-nav>nav .nav-item .submenu-container .submenu-list{display:flex;flex-direction:column;flex-wrap:wrap;gap:0.75rem;max-height:var(--submenu-max-height);overflow-y:auto}go-main-nav>nav .nav-item.active{background:var(--nav-item-active-bg-color)}go-main-nav>nav .nav-item.active .nav-item-inner svg{transform:rotate(180deg)}go-main-nav>nav .nav-item.active .submenu-container{visibility:visible;opacity:1;box-shadow:var(--shadow-2)}go-main-nav>nav .submenu ul{border-top:1px solid var(--go-color-secondary-100);border-top:0.0625rem solid var(--go-color-secondary-100)}go-main-nav>nav .submenu go-nav-link{display:block}go-main-nav go-nav-link{--nav-link-padding:var(--submenu-link-padding)}go-main-nav go-nav-link .nav-item-link .nav-link-text{text-decoration:none}";export{s as go_main_nav}