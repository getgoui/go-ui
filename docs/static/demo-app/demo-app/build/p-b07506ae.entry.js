import{r as o,c as t,h as e,H as i,g as n}from"./p-506d8682.js";import{i as r}from"./p-d8cdaaf1.js";import{t as a}from"./p-0c14c726.js";var s=!1;if("undefined"!=typeof window){var c={get passive(){s=!0}};window.addEventListener("testPassive",null,c),window.removeEventListener("testPassive",null,c)}var d="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),l=[],v=!1,u=-1,h=void 0,m=void 0,w=void 0,g=function(o){return l.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(o))}))},f=function(o){var t=o||window.event;return!!g(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)};const y=class{constructor(e){o(this,e),this.openEvent=t(this,"overlayOpen",7),this.closeEvent=t(this,"overlayClose",7),this.active=!1,this.persistent=!1,this.inheritedAttrs={}}componentWillLoad(){this.inheritedAttrs=r(this.el,["class","style"],!1),document.querySelector("body").appendChild(this.el)}componentDidLoad(){this.persistent||this.el.addEventListener("click",(o=>{this.active&&o.target===this.bgEl&&(o.preventDefault(),this.close())}))}async close(){var o,t;this.closeEvent.emit(),(t=this.el)?(l=l.filter((function(o){return o.targetElement!==t})),d&&(t.ontouchstart=null,t.ontouchmove=null,v&&0===l.length&&(document.removeEventListener("touchmove",f,s?{passive:!1}:void 0),v=!1)),d?function(){if(void 0!==m){var o=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=m.position,document.body.style.top=m.top,document.body.style.left=m.left,window.scrollTo(t,o),m=void 0}}():(void 0!==w&&(document.body.style.paddingRight=w,w=void 0),void 0!==h&&(document.body.style.overflow=h,h=void 0))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."),this.active=!1,null===(o=this.originator)||void 0===o||o.focus(),this.el.style.visibility="hidden"}async open(){this.originator=document.activeElement,this.openEvent.emit(),function(o,t){if(o){if(!l.some((function(t){return t.targetElement===o}))){var e={targetElement:o,options:t||{}};l=[].concat(function(o){if(Array.isArray(o)){for(var t=0,e=Array(o.length);t<o.length;t++)e[t]=o[t];return e}return Array.from(o)}(l),[e]),d?window.requestAnimationFrame((function(){if(void 0===m){m={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var o=window,t=o.scrollY,e=o.scrollX,i=o.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-e,setTimeout((function(){return window.requestAnimationFrame((function(){var o=i-window.innerHeight;o&&t>=i&&(document.body.style.top=-(t+o))}))}),300)}})):function(o){if(void 0===w){var t=window.innerWidth-document.documentElement.clientWidth;if(o&&!0===o.reserveScrollBarGap&&t>0){var e=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);w=document.body.style.paddingRight,document.body.style.paddingRight=e+t+"px"}}void 0===h&&(h=document.body.style.overflow,document.body.style.overflow="hidden")}(t),d&&(o.ontouchstart=function(o){1===o.targetTouches.length&&(u=o.targetTouches[0].clientY)},o.ontouchmove=function(t){1===t.targetTouches.length&&function(o,t){var e=o.targetTouches[0].clientY-u;!g(o.target)&&(t&&0===t.scrollTop&&e>0||function(o){return!!o&&o.scrollHeight-o.scrollTop<=o.clientHeight}(t)&&e<0?f(o):o.stopPropagation())}(t,o)},v||(document.addEventListener("touchmove",f,s?{passive:!1}:void 0),v=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")}(this.el),this.el.style.visibility="visible",this.active=!0,this.persistent||document.addEventListener("keydown",(o=>{this.active&&"Escape"===o.code&&this.close()})),a(this.el)}watchActiveHandler(o){o?this.open():this.close()}render(){const{active:o,inheritedAttrs:t}=this;return e(i,Object.assign({class:{active:o}},t),e("div",{class:"overlay-bg",ref:o=>this.bgEl=o}),e("div",{class:"overlay-content"},e("slot",null)))}get el(){return n(this)}static get watchers(){return{active:["watchActiveHandler"]}}};y.style='go-overlay{--go-overlay-color:rgba(var(--go-token-darkest), 0.8);--go-overlay-close-btn-text-color:var(--go-color-lightest);transition:opacity var(--go-duration-normal) var(--go-timing-function);position:fixed;top:0;left:0;right:0;bottom:0;width:0;height:0;overflow:auto;opacity:0;z-index:var(--layer-important)}@media (prefers-reduced-motion: reduce){go-overlay{transition-duration:0s}}go-overlay .close-btn-wrapper go-button{--go-btn-text-color:var(--go-overlay-close-btn-text-color)}go-overlay .overlay-bg{position:absolute;width:100%;height:100vh}go-overlay .overlay-content{position:relative;visibility:hidden}go-overlay.active{background:var(--go-overlay-color);width:100%;height:100%;opacity:1}go-overlay.active .overlay-content{visibility:visible}:where([color-scheme="dark"],[data-theme="dark"]) go-overlay{--go-overlay-color:rgba(var(--go-token-darkest), 0.8);--go-overlay-close-btn-text-color:var(--go-text-color)}';export{y as go_overlay}