import{r as o,h as i,H as t,g as r,c as e}from"./p-506d8682.js";import{s as a,h as n}from"./p-d8cdaaf1.js";import{l as s}from"./p-3f7470e1.js";import"./p-0bc4f624.js";const d=class{constructor(i){o(this,i),this.multiple=!1}componentWillLoad(){this.items=Array.from(this.el.children),this.multiple||(this.activeItem=a(this.el,"go-accordion-item[active]")[0],this.activeItem&&this.activeItem.open(),this.closeNonActive())}openHandler(o){o.stopPropagation(),this.multiple||(this.activeItem=o.target,this.closeNonActive())}closeNonActive(){this.items.forEach((o=>{o.isSameNode(this.activeItem)||o.close()}))}render(){return i(t,null,i("slot",null))}get el(){return r(this)}};d.style="go-accordion{--heading-padding-x:1rem;--heading-padding-y:var(--go-size--1);--panel-padding-x:1rem;--panel-padding-y:1rem;--panel-max-height:100vh;--heading-text-color:var(--go-color-text, #333);--heading-bg-color:var(--go-color-neutral-100);--heading-font-size:var(--go-size-0, 1rem);--heading-font-weight:700;--panel-bg-color:var(--go-color-bg);--heading-border-bottom:var(--go-border-thin) solid var(--go-color-border);--heading-bg-color-hover:var(--go-color-neutral-200);--heading-fg-color-hover:var(--go-color-text)}";const h=class{constructor(i){o(this,i),this.opened=e(this,"opened",7),this.opening=e(this,"opening",7),this.closed=e(this,"closed",7),this.closing=e(this,"closing",7),this.heading=null,this.headingTag="h3",this.autoHeight=!0,this.active=!1,this.hasHeadingSlot=!0,this.hasArrowSlot=!0}componentWillLoad(){this.hasHeadingSlot=n(this.el,"heading"),this.hasArrowSlot=n(this.el,"arrow"),this.panelId=s("go-accordion-item-panel-"),this.headerId=s("go-accordion-item-header-"),this.parentGroup=this.el.closest("go-accordion")}componentDidLoad(){this.autoHeight&&this.panelEl.style.setProperty("--body-max-height",this.panelEl.scrollHeight+2+"px"),this.onTransitionEnd(),this.panelEl.addEventListener("transitionstart",(()=>{this.onTransitionStart()})),this.panelEl.addEventListener("transitionend",(()=>{this.onTransitionEnd()}))}handleNavigation(o){"ArrowDown"===o&&this.el.nextElementSibling&&this.el.nextElementSibling.focusOnControl(),"ArrowUp"===o&&this.el.previousElementSibling&&this.el.previousElementSibling.focusOnControl(),"Home"===o&&this.parentGroup.children[0].focusOnControl(),"End"===o&&this.parentGroup.children[this.parentGroup.children.length-1].focusOnControl()}onTransitionEnd(){this.active?(this.panelEl.style.overflow="auto",this.opened.emit()):(this.panelEl.style.overflow="hidden",this.panelEl.style.visibility="hidden",this.closed.emit())}onTransitionStart(){this.active?(this.panelEl.style.visibility="visible",this.opening.emit()):this.closing.emit()}async toggle(){this.active?this.close():this.open()}async close(){this.active=!1}async open(){this.active=!0}async focusOnControl(){this.el.querySelector(".heading-control").focus()}render(){const{active:o,autoHeight:r,headingTag:e,panelId:a,headerId:n}=this;return i(t,{class:{active:o,autoHeight:r}},i(e,{class:"heading"},i("button",{id:n,class:"heading-control",role:"button",onClick:()=>this.toggle(),onKeyDown:o=>this.handleNavigation(o.key),"aria-expanded":o?"true":"false","aria-controls":a},this.hasHeadingSlot?i("slot",{name:"heading"}):this.heading,i("span",{class:"arrow"},this.hasArrowSlot?i("slot",{name:"arrow"}):i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},i("path",{d:"m6 9 6 6 6-6"}))))),i("div",{class:"panel-wrapper",role:"region",id:a,"aria-labelledby":n,ref:o=>this.panelEl=o},i("div",{class:"panel"},i("slot",null))))}get el(){return r(this)}};h.style="go-accordion-item{display:block}@media (prefers-reduced-motion: reduce){go-accordion-item{--go-duration-normal:0.01s}}go-accordion-item .heading .heading-control{background:var(--heading-bg-color);color:var(--heading-text-color);font-size:var(--heading-font-size, 1rem);border-radius:var(--radius-2, 0.25rem);display:flex;align-items:center;justify-content:space-between;width:100%;border:none;padding:var(--heading-padding-y) var(--heading-padding-x);cursor:pointer;transition:border-radius var(--go-duration-normal) var(--go-timing-function)}@media (prefers-reduced-motion: reduce){go-accordion-item .heading .heading-control{transition-duration:0s}}go-accordion-item .heading .heading-control:hover,go-accordion-item .heading .heading-control:focus-visible{--heading-bg-color:var(--heading-bg-color-hover);--heading-text-color:var(--heading-fg-color-hover)}go-accordion-item .heading .heading-control:focus-visible{outline:var(--go-focus-outline-width, 2px) solid var(--go-focus-outline-color, #000);outline-offset:var(--go-focus-outline-offset)}go-accordion-item .heading .arrow{display:block;color:currentColor;transition:transform var(--go-duration-normal) var(--go-timing-function);width:1.5em;height:1.5em}@media (prefers-reduced-motion: reduce){go-accordion-item .heading .arrow{transition-duration:0s}}go-accordion-item .panel-wrapper{overflow:hidden;max-height:0;transition:max-height var(--go-duration-normal) var(--go-timing-function);background:var(--panel-bg-color)}go-accordion-item .panel-wrapper .panel{border-top-left-radius:0;border-top-right-radius:0;overflow:hidden;padding:var(--panel-padding-y) var(--panel-padding-x)}go-accordion-item.autoHeight .panel-wrapper{overflow:hidden}go-accordion-item.active>.heading{border-bottom-left-radius:0;border-bottom-right-radius:0;transition:border-radius 0s}go-accordion-item.active>.heading .arrow{transform:rotate(180deg)}go-accordion-item.active>.panel-wrapper{max-height:var(--body-max-height)}";export{d as go_accordion,h as go_accordion_item}