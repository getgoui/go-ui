import{r as t,h as o,g as a}from"./p-506d8682.js";import{m as r}from"./p-3336ac5a.js";import{h as s}from"./p-d8cdaaf1.js";const e=class{constructor(o){t(this,o),this.noStretch=!1,this.cols=1,this.colsTablet=2,this.colsDesktop=3,this.colsLarge=4,this.cardClasses=["card-col"]}componentWillLoad(){this.hasHeadingSlot=s(this.el,"heading"),this.inViewObserver=new IntersectionObserver((t=>{console.log(t),t.forEach(((t,o)=>{if(!t.isIntersecting)return;const a=t.target;a.classList.add("stagger-fade-in"),a.style.cssText=`--stagger-delay: ${o*this.stagger}ms`,this.inViewObserver.unobserve(a)}))}),{threshold:.2})}async componentDidLoad(){const{cols:t,colsTablet:o,colsDesktop:a,colsLarge:r}=this;this.cardClasses.push(`col-${Math.ceil(12/t)}`),this.cardClasses.push(`col-tablet-${Math.ceil(12/o)}`),this.cardClasses.push(`col-desktop-${Math.ceil(12/a)}`),this.cardClasses.push(`col-large-${Math.ceil(12/r)}`),this.loadCards()}loadCards(){this.el.querySelectorAll("go-card:not(.loaded)").forEach((t=>{this.prepareCard(t,this.cardClasses)}))}prepareCard(t,o){const a=document.createElement("div");a.classList.add(...o),t.parentNode.insertBefore(a,t),r(t,a),t.classList.add("loaded"),r(a,this.rowEl),this.stagger&&this.inViewObserver.observe(t)}render(){const{noStretch:t,stagger:a,heading:r,moreLinkHref:s,moreLinkText:e,hasHeadingSlot:i}=this,c=r||i,n=s&&e;return o("section",null,c||n?o("div",{class:"heading-row"},c?o("slot",{name:"heading"},o("h2",null,r)):o("span",null),n?o("go-nav-link",{item:{url:s,label:e},showArrow:!0}):null):null,o("div",{class:{"card-row row":!0,"no-stretch":t,stagger:!!a},ref:t=>this.rowEl=t},o("slot",null)))}get el(){return a(this)}};e.style="go-card-row{--card-row-gap:1rem;align-items:stretch;--go-col-gap:var(--card-row-gap)}go-card-row.no-stretch{align-items:flex-start}go-card-row go-card{opacity:0;max-height:200px;max-height:12.5rem}go-card-row go-card.loaded{opacity:1;max-height:inherit}go-card-row .stagger go-card.loaded{opacity:0}go-card-row .card-col{margin-bottom:var(--card-row-gap)}go-card-row .heading-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--go-size-1);padding:0 var(--go-outer-gutter)}";export{e as go_card_row}