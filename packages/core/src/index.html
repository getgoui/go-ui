<!-- Used in Docusaurus demo component -->
<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Go UI demo</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" href="/build/go-ui.css" />
    <script type="module" src="/build/go-ui.esm.js"></script>
    <script nomodule src="/build/go-ui.js"></script>
  </head>
  <body>
    <header class="container text-end">
      <go-dark-mode id="themer"></go-dark-mode>
      <go-switch id="switcher" label="Dark Mode"></go-switch>

      <script>
        const themer = document.getElementById('themer');
        const switcher = document.getElementById('switcher');
        themer.addEventListener('themechange', (e) => {
          switcher.setAttribute('checked', e.detail.theme === 'dark');
        });
        switcher.addEventListener('change', (e) => {
          themer.setTheme(e.target.checked ? 'dark' : 'light');
        });
      </script>
    </header>
    <!-- keep this sandbox empty before pushing changes -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <div class="container">
      <h3>List with heading link</h3>
      <div class="col-6">
        <pre id="output"></pre>
      </div>
      <div class="col-3">
        <go-nav-list id="navlist1" block>
          <div slot="header">This is a header</div>
        </go-nav-list>
      </div>

      <script>
        const navlist = document.getElementById('navlist1');
        const output = document.getElementById('output');
        const setNavActiveState = (items, activeUrl) => {
          return items.map((item) => {
            const isCurrent = item.url === activeUrl;
            if (item.children) {
              return { ...item, children: setNavActiveState(item.children, activeUrl), isCurrent };
            }
            return { ...item, isCurrent };
          });
        };
        navItems = [
          {
            label: 'Dashboard',
            url: '#/dashboard',
            icon: 'dashboard',
          },
          {
            label: 'Components',
            url: '#/components',
            icon: 'extension',
            children: [
              {
                label: 'Components 1',
                url: '#/components/components-1',
                icon: 'extension',
                isCurrent: true,
              },
              {
                label: 'Components 2',
                url: '#/components/components-2',
                icon: 'extension',
              },
              {
                label: 'Forms',
                url: '#/forms',
                icon: 'text_fields',
                children: [
                  {
                    label: 'Form 1',
                    url: '#/forms/form-1',
                    icon: 'text_fields',
                  },
                  {
                    label: 'Form 2',
                    url: '#/forms/form-2',
                    icon: 'text_fields',
                  },
                ],
              },
            ],
          },
          {
            label: 'Charts',
            url: '#/charts',
            icon: 'insert_chart',
          },
          {
            label: 'User profile',
            url: '#/user-profile',
            icon: 'person',
          },
        ];
        navlist.items = navItems;
        output.innerHTML = JSON.stringify(navlist.items, null, 2);
        navlist.addEventListener('navigate', (e) => {
          navlist.items = setNavActiveState(navItems, e.detail.item.url);
          output.innerHTML = JSON.stringify(navlist.items, null, 2);
        });
      </script>
    </div>
  </body>
</html>
